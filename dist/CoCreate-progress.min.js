!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CoCreate=e():(t.CoCreate=t.CoCreate||{},t.CoCreate.progress=e())}(this,(function(){return(()=>{var t={375:function(t,e,r){var n,o;"undefined"!=typeof self&&self,n=[r(446),r(965)],void 0===(o=function(t,e){return function(t,e,r){return{socket:null,setSocket:function(t){this.socket=t},readDocumentList(t){if(!t)return!1;let r=e.getCommonParams();return!!t.collection&&(r={...r,...t},this.socket.send("readDocumentList",r),!0)},createDocument:function(r){if(null===r)return!1;let n=e.getCommonParamsExtend(r),o={...r,...n},i=r.data||{};i.organization_id||(i.organization_id=t.config.organization_Id),r.data&&(i={...i,...r.data}),o.data=i;const a=e.generateSocketClient(r.namespace,r.room);return this.socket.send("createDocument",o,a),!0},updateDocument:function(t){if(!t||!r.checkDocumentId(t.document_id))return!1;let n=e.getCommonParamsExtend(t),o={...t,...n};if("object"==typeof t.data&&(o.set=t.data),Array.isArray(t.delete_fields)&&(o.unset=t.delete_fields),!o.set&&!o.unset)return!1;!1===t.broadcast&&(o.broadcast=!1),void 0===t.broadcast_sender&&(o.broadcast_sender=!0);const i=e.generateSocketClient(t.namespace,t.room);return this.socket.send("updateDocument",o,i),!0},readDocument:function(t){if(null===t)return!1;if(!t||!r.checkDocumentId(t.document_id))return!1;let n=e.getCommonParamsExtend(t),o={...t,...n};return this.socket.send("readDocument",o),!0},deleteDocument:function(t){if(!t||!r.checkDocumentId(t.document_id))return!1;let n=e.getCommonParamsExtend(t),o={...t,...n};const i=e.generateSocketClient(t.namespace,t.room);return this.socket.send("deleteDocument",o,i),!0},exportCollection:function(t){if(null===t)return;let r=e.getCommonParamsExtend(t);r.collection=t.collection,r.export_type=t.export_type,r.metadata=t.metadata,this.socket.send("exportDB",r)},importCollection:function(r){const{file:n}=r;if(null===r||!(n instanceof t.File))return;const o=n.name.split(".").pop();if(!["json","csv"].some((t=>t===o)))return;let i=e.getCommonParamsExtend(r);i.collection=r.collection,i.import_type=o,this.socket.send("importDB",i),this.socket.sendFile(n)},listen:function(t,e){this.socket.listen(t,e)},listenAsync:function(t){return this.socket.listenAsync(t)},createSocket:function(t,e){e?(this.socket.create({namespace:e,room:null,host:t}),this.socket.setGlobalScope(e)):this.socket.create({namespace:null,room:null,host:t})},...r}}(window,t,e)}.apply(e,n))||(t.exports=o)},611:function(t,e,r){var n,o;"undefined"!=typeof self&&self,n=[r(585),r(375)],void 0===(o=function(t,e){return function(t,e,r){if(t){let t=window.CoCreateCrudSocket;t||(t=new e("ws"),window.CoCreateCrudSocket=t),r.setSocket(t),r.createSocket(window.config.host?window.config.host:window.location.hostname,window.config.organization_Id)}return r}(!0,t,e)}.apply(e,n))||(t.exports=o)},965:function(t,e){var r;"undefined"!=typeof self&&self,void 0===(r=function(){return function(){function t(e,r){e=e||{};for(let n of Object.keys(r))r[n]instanceof Object&&Object.assign(r[n],t(e[n],r[n]));return Object.assign(e||{},r),e}function e(t,e){if(!e)return t;let r=e.split("."),n=t;for(var o=r.length-1;o>=0;o--)n={[r[o]]:n};return n}function r(t,e){try{let r=/([\w\W]+)\[(\d+)\]/gm.exec(t);if(r&&3==r.length){let n=r[1],o=parseInt(r[2]);e[n]&&Array.isArray(e[n])||(e[n]=[]),e[n][o]=e[t],delete e[t],t=n}}catch{}return t}function n(t){return!!t&&t.constructor===Object}function o(t){return!!t&&t.constructor===Array}function i(n){let o=Object.keys(n),i={};return o.forEach((o=>{if((o=r(o,n)).split(".").length>1){let r=e(n[o],o);delete n[o],i=t(i,r)}else i[o]=n[o]})),i}function a(t){let e=Object.keys(t),r={};return e.forEach((e=>{let i=t[e];if(n(t[e])){let n=a(t[e]);Object.keys(n).forEach((t=>{let o=n[t];r[t=e+"."+t]=o}))}else o(i)?i.forEach(((t,n)=>{r[`${e}[${n}]`]=t})):r[e]=t[e]})),r}function s(t){if(t)return{collection:t.getAttribute("data-collection"),document_id:t.getAttribute("data-document_id"),name:t.getAttribute("name")}}function l(t){return t?{is_realtime:f(t),is_save:u(t),is_read:c(t),is_update:d(t)}:{}}const c=t=>p(t,"data-read_value"),u=t=>p(t,"data-save_value"),d=t=>p(t,"data-update_value"),f=t=>!!t&&"false"!=t.getAttribute("data-realtime");function p(t,e){return!!t&&"false"!==t.getAttribute(e)}function h(t){return!!t&&!/{{\s*([\w\W]+)\s*}}/g.test(t)}function m(t){try{let e=JSON.parse(t);return"object"==typeof e&&null!=e}catch(t){return!1}}function g(t){const{collection:e,document_id:r,name:n}=s(t);return!(m(e)||m(n)||!("INPUT"===t.tagName&&["text","email","tel","url"].includes(t.type)||"TEXTAREA"===t.tagName)||!n||!f(t)||"true"===t.getAttribute("data-unique")||"password"===t.type||!c(t))}function y(t){try{return!!t&&"null"!==t.toLowerCase()}catch(t){return!1}}return{decodeObject:i,encodeObject:a,getAttr:s,getFlagAttr:l,isRealtimeAttr:f,isReadAttr:c,isSaveAttr:u,isUpdateAttr:d,checkValue:h,isCRDT:g,checkDocumentId:y}}()}.apply(e,[]))||(t.exports=r)},406:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>a});var n=r(611),o=r.n(n);const i={items:[],ioInstance:null,moduleAttribues:[],module_items:[],__init:function(){this.__initIntesection(),this.__initSocket(),this.__initEvents()},__initIntesection:function(){const t=this;this.ioInstance=new IntersectionObserver(((e,r)=>{e.forEach((e=>{if(e.isIntersecting){const r=t.__getMainAttribue(e.target);r.id&&document.dispatchEvent(new CustomEvent("CoCreateFilter-loadMore",{detail:{attrName:r.name,attrId:r.id}})),t.ioInstance.unobserve(e.target)}}))}),{threshold:1})},__runLoadMore:function(t,e){if(!e||!t)return;let r=this.items.find((r=>r.attrName===t&&r.id===e));r&&r.count>0&&this.fetchData(r)},__getMainAttribue:function(t){const e=this.moduleAttribues.find((e=>""!==(t.getAttribute(e)||"")));return e?{name:e,id:t.getAttribute(e)}:{}},__initSocket:function(){const t=this;o().listen("readDocumentList",(function(e){let r=e.element,n=t.items.find((t=>t.id===r));if(n){const r=e.data;let o=document.querySelector(`[${n.attrName}="${n.id}"][data-fetch_type="scroll"]`);r.length>0&&o&&t.ioInstance.observe(o);const i=e.operator.total,a=document.querySelectorAll(`[${n.attrName}="${n.id}"][data-fetch_type="total"]`);a&&a.forEach((t=>t.innerHTML=i))}}))},__initEvents:function(){const t=this;document.addEventListener("CoCreateFilter-loadMore",(function(e){const r=e.detail.attrId,n=e.detail.attrName;t.__runLoadMore(n,r)})),document.querySelectorAll('[data-fetch_type="loadmore"]').forEach((e=>{e.addEventListener("click",(function(r){r.preventDefault();const n=t.__getMainAttribue(e);n.id&&t.__runLoadMore(n.attrName,n.attrId)}))}))},setFilter:function(t,e,r){if(!e)return;let n=t.getAttribute(e);if(!n)return;this.moduleAttribues.includes(e)||this.moduleAttribues.push(e);let o=t.getAttribute("data-fetch_collection"),i="collection"==t.getAttribute("data-fetch_value_type"),a=t.getAttribute("data-order_by"),s=t.getAttribute("data-order_type")||"asc",l=parseInt(t.getAttribute("data-fetch_count")),c={el:t,id:n,eId:n,type:r,attrName:e,collection:o,startIndex:0,options:{},fetch:{},is_collection:i,search:{type:"or",value:[]},orders:[],filters:[]};return!isNaN(l)&&l>0&&(c.count=l),a&&c.orders.push({name:a,type:"asc"==s?1:-1}),this._initFilter(c,n,e),this._initOrder(c,n,e),this.items.push(c),this._initInputForm(c,e),this._initExportImport(c,n,e),c},_initFilter:function(t,e,r){let n=t.el.getRootNode().querySelectorAll("["+r+'="'+e+'"]');for(var o=0;o<n.length;o++){let i=n[o],a=i.getAttribute("data-filter_name"),s=i.getAttribute("data-filter_operator")?i.getAttribute("data-filter_operator"):"$contain",l=i.getAttribute("data-filter_value_type")?i.getAttribute("data-filter_value_type"):"string",c=i.getAttribute("data-filter_type"),u=i.getAttribute("data-filter_value");if(null!=u)if("raw"!==l&&(u=u.replace(/\s/g,"").split(",")),a){let e=this.getFilterByName(t,a,s);if("string"!=l)for(let t=0;t<u.length;t++)u[t]=Number(u[t]);this.insertArrayObject(t.filters,e,{name:a,value:u,operator:s,type:c})}else t.search.value=this._makeSearchOption(e,r)}},_initOrder:function(t,e,r){let n=t.el.getRootNode().querySelectorAll("["+r+'="'+e+'"]');const o=this;for(var i=0;i<n.length;i++){let e=n[i],r=e.getAttribute("data-order_by"),a=e.getAttribute("value");r&&a&&(["A","BUTTON"].includes(e.tagName)?e.addEventListener("click",(function(){let e=this.getAttribute("data-order_by"),r=this.getAttribute("value");o._applyOrder(t,e,r),t.el&&t.el.dispatchEvent(new CustomEvent("changeFilterInput",{detail:{type:"order"}}))})):this._applyOrder(t,r,a))}this._initToggleOrderEvent(t,e,r)},_initToggleOrderEvent:function(t,e,r){let n=document.querySelectorAll(`[${r}="${e}"][data-toggle_order]`);const o=this;n.forEach((e=>{e.addEventListener("click",(function(){let r=this.getAttribute("data-toggle_order")||"",i=this.getAttribute("data-order_by");r="asc"===r?"desc":"asc";for(let t=0;t<n.length;t++)n[t]!==e&&n[t].setAttribute("data-toggle_order","");t.orders=[],o._applyOrder(t,i,r),e.setAttribute("data-toggle_order",r),t.el&&t.el.dispatchEvent(new CustomEvent("changeFilterInput",{detail:{type:"order"}}))}))}))},_initExportImport:function(t,e,r){let n=document.querySelector(`[data-export_type][${r}="${e}"]`),i=document.querySelector(`[data-import="true"][${r}="${e}"]`);const a=this;n&&n.addEventListener("click",(function(){if(!t)return;let e=a.makeFetchOptions(t);e.export={collection:e.collection,type:n.getAttribute("data-export_type")||"json"},o().readDocumentList(e)})),i&&i.addEventListener("click",(function(){var e=document.createElement("input");if(e.type="file",!t)return;let r=t.collection;e.onchange=t=>{var e=t.target.files[0];o().importCollection({collection:r,file:e})},e.click()}))},_applyOrder:function(t,e,r){if(!r)return;let n=0,o=this.getOrderByName(t,e);n="asc"==r?1:"desc"==r?-1:[],this.insertArrayObject(t.orders,o,{name:e,type:n},n)},changeCollection:function(t){let e=t.el.getAttribute("data-fetch_collection");t.collection=e,t.startIndex=0},_makeSearchOption:function(t,e){let r=document.querySelectorAll("form["+e+"="+t+"]"),n="["+e+"="+t+"]",o=document.querySelectorAll("input"+n+",textarea"+n+", select"+n),i=[];for(let t=0;t<r.length;t++){let e=r[t].querySelectorAll("input, textarea, select");e=Array.prototype.slice.call(e),i=i.concat(e)}o=Array.prototype.slice.call(o),i=i.concat(o);let a=[];for(var s=0;s<i.length;s++){let t=i[s].getAttribute("data-filter_name"),e=i[s].getAttribute("data-order_by"),r=i[s],n=r.getAttribute("data-value_type")?r.getAttribute("data-value_type"):"string",o=null;t||e||("checkbox"!=r.type||r.checked?(o=r.value,"string"!=n&&(o=Number(o)),o&&!a.includes(o)&&a.push(o)):o=null)}return a},_initInputForm:function(t,e){if(!t)return;let r="["+e+'="'+t.id+'"]',n=t.el.getRootNode().querySelectorAll("form"+r+" input, form"+r+" textarea, form"+r+" select"),o=t.el.getRootNode().querySelectorAll("input"+r+",textarea"+r+", select"+r);this.setCheckboxName(t.id,e),n=Array.prototype.slice.call(n),o=Array.prototype.slice.call(o),n=n.concat(o);for(let e=0;e<n.length;e++){let r=n[e];r.getAttribute("data-order_by")?this._initOrderInput(t,r):this._initFilterInput(t,r,t.id)}},_initOrderInput:function(t,e){var r=this;e.addEventListener("change",(function(e){e.preventDefault();let n=this.getAttribute("data-order_by"),o=0,i=r.getOrderByName(t,n);o="asc"==this.value?1:"desc"==this.value?-1:[],r.insertArrayObject(t.orders,i,{name:n,type:o},o),t.el&&t.el.dispatchEvent(new CustomEvent("changeFilterInput",{detail:{type:"order"}}))}))},_initFilterInput:function(t,e,r){var n,o=this;e.addEventListener("input",(function(i){i.preventDefault();let a=this.getAttribute("data-filter_name"),s=this.getAttribute("data-filter_operator")||"$contain",l=this.getAttribute("data-filter_type"),c=this.getAttribute("data-filter_value_type")||"string";clearTimeout(n),n=setTimeout((function(){if(a){let r=o.getFilterByName(t,a,s),d=e.type,f=[];if("checkbox"==d)for(var n=document.querySelectorAll("input[name="+e.name+"]:checked"),i=0;i<n.length;i++)f.push(n[i].value);else if("raido"==d);else if("range"==d)f=[Number(e.min),Number(e.value)];else{var u=e.value;"string"!=c&&(u=Number(u)),"none"!=u&&(f=[u]),"raw"===c&&(f=u)}o.insertArrayObject(t.filters,r,{name:a,value:f,operator:s,type:l})}else t.search.value=o._makeSearchOption(r,t.attrName);t.el&&t.el.dispatchEvent(new CustomEvent("changeFilterInput",{detail:{type:"filter"}}))}),500)}))},setCheckboxName:function(t,e){for(var r=document.querySelectorAll("form["+e+'="'+t+'"]'),n=0;n<r.length;n++)for(var o=r[n].querySelectorAll("input[type=checkbox], form input[type=radio]"),i=0;i<o.length;i++){var a=o[i].getAttribute("name"),s=o[i].getAttribute("data-filter_name");!a&&s&&o[i].setAttribute("name","_"+t+"-"+s+"_"+n)}},getFilterByName:function(t,e,r){for(var n=0;n<t.filters.length;n++){var o=t.filters[n];if(o.name==e&&o.operator==r)return n}return-1},insertArrayObject:function(t,e,r,n){return n||(n=r.value),"object"==typeof n&&0==n.length?-1!=e&&t.splice(e,1):-1!=e?t[e]=r:t.push(r),t},getOrderByName:function(t,e){for(var r=0;r<t.orders.length;r++)if(t.orders[r].name==e)return r;return-1},defineEvent:function(t){t.el.addEventListener("fetchFilterData",(function(t){}))},fetchData:function(t){let e=this.makeFetchOptions(t);o().readDocumentList(e)},getObjectByFilterId:function(t,e){for(var r=0;r<t.length;r++){let n=t[r].filter;if(n&&n.id==e)return t[r]}},getObjectByElement:function(t,e){for(var r=0;r<t.length;r++){let n=t[r].filter;if(n&&n.el.isSameNode(e))return t[r]}},makeFetchOptions:function(t){let e={collection:t.collection,element:t.eId,metadata:{isRefresh:t.isRefresh},operator:{filters:t.filters,orders:t.orders,search:t.search,startIndex:t.startIndex},is_collection:t.is_collection};return t.count&&(e.operator.count=t.count),e},init:function({name:t,attribute:e,callback:r}){let n=document.querySelectorAll(`[data-fetch_collection][${e}]`);const i=this;n.forEach((r=>{i.__initFilterElement(r,e,t)})),o().listen("readDocumentList",(function(t){r.call(null,t)}))},__initFilterElement:function(t,e,r){let n=t.getAttribute(e);const o=this;if(!n)return;let i=this.setFilter(t,e,r);i&&(this.module_items.push({el:t,filter:i,id:n,name:r}),t.addEventListener("changeFilterInput",(function(t){o.fetchData(i)})),this.fetchData(i))}};i.__init();const a=i},446:function(t,e){var r;"undefined"!=typeof self&&self,void 0===(r=function(){return function(t){function e(){let e={};return t&&t.config&&(e=t.config),{apiKey:e.apiKey,organization_id:e.organization_Id}}function r(e){let r={};return t&&t.config&&(r=t.config),{apiKey:e.apiKey||r.apiKey,organization_id:e.organization_id||r.organization_Id}}function n(e,r){let n={};t&&t.config&&(n=t.config);let o=e||n.organization_Id,i=r||"";return i?`${o}/${i}`:o}function o(t=36){let e=(new Date).getTime(),r=0,n="uxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";if(t<=n.length)n=n.substr(0,t);else{let e=t-n.length,r="-xxxyyxxx",o=Math.floor(e/r.length);for(let t=0;t<o;t++)n+=r;o=e-o*r.length,n+=r.substr(0,o)}return n.replace(/[xy]/g,(function(t){var n=16*Math.random();return e>0?(n=(e+n)%16|0,e=Math.floor(e/16)):(n=(r+n)%16|0,r=Math.floor(r/16)),("x"==t?n:7&n|8).toString(16)}))}return{getCommonParams:e,getCommonParamsExtend:r,generateSocketClient:n,GenerateUUID:o}}(window)}.apply(e,[]))||(t.exports=r)},585:function(t,e,r){var n,o;"undefined"!=typeof self&&self,n=[r(446)],void 0===(o=function(t){return function(t,e,r,n){class o{constructor(t="crud"){this.prefix=t||"crud",this.sockets=new Map,this.listeners=new Map,this.messageQueue=new Map,this.saveFileName="",this.globalScope=""}setGlobalScope(t){this.globalScope=`${this.prefix}/${t}`}getGlobalScope(){return this.globalScope}create(t){const{namespace:o,room:i}=t,a=this.getKey(o,i);let s,l=this;if(o&&this.setGlobalScope(o),this.sockets.get(a))return void(s=this.sockets.get(a));let c=e.location.protocol;"about:"===e.location.protocol&&(c=e.parent.location.protocol,t.host||(t.host=e.parent.location.host));let u="http:"===c?"ws":"wss";const d=t.port?t.port:8088;let f=`${u}://${e.location.host}:${d}/${a}`;t.host&&(f=t.host.includes("://")?`${t.host}/${a}`:t.host.includes(":")?`${u}://${t.host}/${a}`:`${u}://${t.host}:${d}/${a}`);try{let t=null;e.localStorage&&(t=e.localStorage.getItem("token")),s=new r(f,t)}catch(t){return}s.onopen=function(t){(l.messageQueue.get(a)||[]).forEach((t=>s.send(JSON.stringify(t)))),l.sockets.set(a,s),l.messageQueue.set(a,[])},s.onclose=function(e){switch(e.code){case 1e3:break;default:l.destroy(s,a),l.reconnect(s,t)}},s.onerror=function(e){l.destroy(s,a),l.reconnect(s,t)},s.onmessage=function(t){try{if(e.Blob&&t.data instanceof n)return void l.saveFile(t.data);let o=JSON.parse(t.data);if(o.data&&o.data.event){if(e.CustomEvent){var r=new e.CustomEvent(o.data.event,{detail:o.data});return void e.document.dispatchEvent(r)}return void process.emit(o.data.event,o.data)}o.action;const i=l.listeners.get(o.action);if(!i)return;i.forEach((t=>{t(o.data,a)}))}catch(t){}}}send(e,r,n){const o={action:e,data:{...r,uid:t.GenerateUUID()}},i=this.getKeyByRoom(n),a=this.getByRoom(n);a?a.send(JSON.stringify(o)):this.messageQueue.get(i)?this.messageQueue.get(i).push(o):this.messageQueue.set(i,[o])}sendFile(t,e){const r=this.getByRoom(e);r&&r.send(t)}listen(t,e){this.listeners.get(t)?this.listeners.get(t).push(e):this.listeners.set(t,[e])}reconnect(t,e){let r=this;setTimeout((function(){r.create(e)}),1e3)}destroy(t,e){t&&(t.onerror=t.onopen=t.onclose=null,t.close(),t=null),this.sockets.get(e)&&this.sockets.delete(e)}destroyByKey(t){let e=this.sockets.get(t);e&&this.destroy(e,t)}getKey(t,e){let r=`${this.prefix}`;return t&&""!=t&&(r+=e&&""!=e?`/${t}/${e}`:`/${t}`),r}getByRoom(t){let e=this.getKeyByRoom(t);return this.sockets.get(e)}getKeyByRoom(t){let e=this.globalScope;return t&&(e=`${this.prefix}/${t}`),e}saveFile(t){if(e.document){const n=this.saveFileName||"downloadFile";var r=e.document.createElement("a");e.document.body.appendChild(r),r.style="display: none";let o=window.URL.createObjectURL(t);r.href=o,r.download=n,r.click(),e.URL.revokeObjectURL(o),this.saveFileName=""}}listenAsync(t){return new Promise(((r,n)=>{e.document?e.document.addEventListener(t,(function(t){r(t.detail)}),{once:!0}):process.once(t,(t=>{r(t)}))}))}}return o}(t,window,WebSocket,Blob)}.apply(e,n))||(t.exports=o)}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";var t=n;t.default=void 0;var e=i(r(406)),o=i(r(611));function i(t){return t&&t.__esModule?t:{default:t}}var a={selector:".progress-wrapper",mainObjects:[],init:function(){this.initElement(),this.initEvent()},initElement:function(t){let r=(t||document).querySelectorAll(this.selector),n=this;r.forEach((t=>{let r=e.default.setFilter(t,"data-progress_id","progress");if(!r)return;let o={el:t,filter:r,id:t.getAttribute("data-progress_id")};n.mainObjects.push(o),n.fetchProgess(t)}))},initEvent:function(){let t=this;o.default.listen("readDocumentList",(function(e){"progress-total"==e.metadata?t.renderProgress(e,!0):"progress-value"==e.metadata&&t.renderProgress(e,!1)}))},renderProgress(t,e){if(!t)return;const r=t.element;if(!r)return;const n=t.data.length;let o=this,i=[],a=e?".progressTotal":".progressValue";a+=`[data-progress_id="${r}"]`,i=document.querySelectorAll(a),i.forEach((t=>{t.textContent=n})),i=document.querySelectorAll(`.progressbar[data-progress_id="${r}"]`),i.forEach((t=>{"PROGRESS"===t.tagName?e?t.setAttribute("max",n):t.setAttribute("value",n):(e?t.setAttribute("data-total",n):t.setAttribute("data-value",n),o.renderBar(t))}))},renderBar:function(t){const e=Number(t.getAttribute("data-total")),r=Number(t.getAttribute("data-value"));if(!e||!r||0===e)return;const n=r/e*100;t.innerHTML=`<div style="width: ${n}%"></div>`},fetchProgess:function(t){let r=null,n=t.getAttribute("data-progress_id");if(this.mainObjects.forEach((t=>{t.id==n&&(r=t)})),!r)return;let i=r.filter,a=e.default.makeFetchOptions(i),s=e.default.makeFetchOptions(i),l=t.getAttribute("data-progress_name"),c=t.getAttribute("data-progress_value"),u=t.getAttribute("data-progress_operator")||"contain";a.metadata="progress-total",s.metadata="progress-value";let d=[].concat(s.operator.filters);d.push({name:l,value:[c],operator:u}),s.operator.filters=d,o.default.readDocumentList(a),o.default.readDocumentList(s)}};a.init();var s=a;t.default=s})(),n=n.default})()}));